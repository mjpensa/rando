/* This file NO LONGER contains layout styles (e.g., body, .gantt-form).
  Those are now handled by Tailwind CSS in index.html.
  
  This file ONLY contains styles that are dynamically
  applied by main.js to the chart, modal, and chat interface.
  It is still required for the application to look correct.
*/
@import url('https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600&display=swap'); /* CHANGED */

/* --- GANTT CHART STYLES --- */
/* These are applied by main.js when building the chart */

/* 6. Gantt Chart Container */
#gantt-chart-container {
  width: 100%;
  border: 1px solid #0D0D0D; /* Darker border (using grid line color) */
  border-radius: 8px;
  background-color: #282828; /* Chart Background */
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  overflow: hidden;
  margin-top: 24px;
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  position: relative; /* Added for vertical SVG border */
}

/* 7. Chart Title */
.gantt-title {
  text-align: center;
  font-size: 40px; /* Increased from 36px for better readability */
  font-weight: 700; /* Increased from 600 for better readability */
  padding: 22px; /* Increased from 20px to match larger text */
  border-bottom: 1px solid #0D0D0D; /* CHANGED to black */
  border-top: 1px solid #0D0D0D; /* CHANGED to black */
  border-left: 1px solid #0D0D0D; /* CHANGED to black */
  border-right: 1px solid #0D0D0D; /* CHANGED to black */
  color: #FFFFFF; /* Text Color */
  background-color: #0c2340; /* CHANGED to new color */
}

/* 8. Main Grid Layout */
.gantt-grid {
  display: grid;
  width: 100%;
  position: relative; /* For "Today" line */
}

/* 9. Grid Header (Weeks) */
.gantt-header {
  font-size: 26px; /* Increased from 24px for better readability */
  font-weight: 600; /* Increased from 500 for better readability */
  padding: 16px 10px; /* Increased padding to match larger text */
  text-align: center;
  background-color: #0c2340; /* CHANGED to new color */
  border-bottom: 1px solid #0D0D0D; /* Grid line color (Correctly not white) */
  border-left: 0.5px solid #0D0D0D; /* Grid line color (CHANGED to black) */
  border-top: 0.5px solid #0D0D0D; /* CHANGED to black */
  color: #FFFFFF; /* Text Color */
}
.gantt-header-label { /* First header cell (empty) */
  border-left: 0; /* Keep left border at 0 */
  border-top: 0.5px solid #0D0D0D; /* OVERRIDE: Keep top border dark, changed to 0.5px */
  /* background-color: #28228; */ /* Removed this override */
}

/* 10. Row Label (Swimlane or Task) */
.gantt-row-label {
  padding: 10px 12px;
  font-size: 13px; /* Base size */
  border-bottom: 1px solid #0D0D0D; /* Grid line color */
  white-space: normal; 
  overflow-wrap: break-word;
}

.gantt-row-label.swimlane {
  font-weight: 700; /* Increased from 600 for better readability */
  color: #FFFFFF; /* Text Color */
  background-color: #0C2340; /* Set swimlane title background */
  font-size: 30px; /* Increased from 28px for better readability */
  padding: 16px 18px; /* Increased padding to match larger text */
}

.gantt-row-label.task {
  padding: 14px 16px; /* Increased base padding for larger text */
  padding-left: 36px; /* Increased indent from 32px */
  font-weight: 500; /* Increased from 400 for better readability */
  color: #FFFFFF; /* Text Color */
  border-bottom: 1px solid #0D0D0D; /* Grid line color */
  transition: background-color 0.2s;
  background-color: #354259; /* Set task title background */
  font-size: 26px; /* Increased from 24px for better readability */
}

.gantt-row-label.task:hover {
  background-color: #383838; /* Light hover effect */
  cursor: pointer;
}

/* 11. Bar Area */
.gantt-bar-area {
  position: relative; 
  display: grid;
  border-left: 1px solid #0D0D0D; /* Grid line color */
  border-bottom: 1px solid #0D0D0D; /* Grid line color */
}
.gantt-bar-area.task:hover {
  background-color: #383838; /* Match label hover */
  cursor: pointer;
}

.gantt-bar-area.swimlane {
  background-color: #0c2340; /* Match the label background */
  border-bottom: 1px solid #0D0D0D; /* Match label border */
}

/* Vertical grid lines */
.gantt-bar-area span[data-col] {
  border-right: 1px solid #0D0D0D; /* Grid line color */
}

/* 12. The Actual Bar */
.gantt-bar {
  position: relative;
  height: 20px;
  margin: 6px 4px; /* Vertical centering, small horizontal gap */
  border-radius: 4px;
  color: white;
  z-index: 2; 
  overflow: hidden;
  grid-row: 1; /* Always on the first (and only) row of its container */
}

/* Bar Colors (NEW PALETTE) */
.gantt-bar[data-color="priority-red"] { background-color: #961111; }
.gantt-bar[data-color="medium-red"] { background-color: #FC6A62; }
.gantt-bar[data-color="mid-grey"] { background-color: #7D8A99; }
.gantt-bar[data-color="light-grey"] { background-color: #DADEE2; }
.gantt-bar[data-color="white"] { background-color: #FFFFFF; }
.gantt-bar[data-color="dark-blue"] { background-color: #354259; }


/* 13. Export Button Styling */
.export-container {
  display: flex;
  justify-content: center;
  padding: 20px 0 0 0;
  font-family: 'Work Sans', sans-serif; /* CHANGED */
}
.export-button {
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
  background-color: #50AF7B; /* Use one of the old dark mode colors (Green) */
  border: none;
  border-radius: 6px;
  padding: 10px 20px;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: background-color 0.2s;
}
.export-button:hover {
  background-color: #3C8D62;
}
.export-button:disabled {
  background-color: #4a4a4a;
  cursor: not-allowed;
}

/* ------------------------------------------------------------------- */
/* --- "TODAY" VERTICAL LINE --- */
/* ------------------------------------------------------------------- */
.gantt-today-line {
  position: absolute;
  width: 1px; /* Thin red line */
  background-color: #BA3930; /* Use Red color from old palette */
  z-index: 3; /* Above bars (bars are z-index 2) */
  /* 'top', 'bottom', and 'left' are set by JavaScript */
}


/* ------------------------------------------------------------------- */
/* --- ANALYSIS MODAL STYLES (Adjusted for Dark Mode) --- */
/* ------------------------------------------------------------------- */

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7); /* Darker overlay */
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  padding: 24px;
  box-sizing: border-box;
  font-family: 'Work Sans', sans-serif; /* CHANGED */
}

.modal-content {
  background-color: #1A1A1A; /* Dark Modal Background */
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  width: 100%;
  max-width: 700px;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  color: #FFFFFF; /* Default text color */
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  border-bottom: 1px solid #383838; /* Darker separator */
}

.modal-title {
  font-size: 18px;
  font-weight: 600;
  color: #FFFFFF;
  margin: 0;
}

.modal-close {
  font-size: 28px;
  font-weight: 300;
  color: #AAAAAA; /* Light grey close button */
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  line-height: 1;
}
.modal-close:hover {
  color: #FFFFFF;
}

.modal-body {
  padding: 24px;
  overflow-y: auto;
  color: #FFFFFF;
}

.modal-spinner {
  width: 32px;
  height: 32px;
  border: 4px solid #383838;
  border-top-color: #50AF7B; /* Green accent */
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 40px auto;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.modal-error {
  color: #BA3930;
  font-weight: 500;
  text-align: center;
  padding: 20px;
}

.analysis-section {
  margin-bottom: 20px;
}
.analysis-section:last-child {
  margin-bottom: 0;
}

.analysis-section h4 {
  font-size: 14px;
  font-weight: 600;
  color: #FFFFFF;
  margin-top: 0;
  margin-bottom: 8px;
  border-bottom: 1px solid #383838; /* Darker separator */
  padding-bottom: 4px;
}

.analysis-section p {
  font-size: 14px;
  color: #CCCCCC; /* Lighter text for body */
  line-height: 1.6;
  margin: 0;
}

.status-pill {
  display: inline-block;
  padding: 3px 10px;
  font-size: 12px;
  font-weight: 600;
  border-radius: 999px;
  text-transform: capitalize;
}
/* Re-mapped status colors for dark background contrast */
.status-pill.status-completed {
  color: #50AF7B; /* Green text */
  background-color: #1A3025; /* Dark Green background */
}
.status-pill.status-in-progress {
  color: #EE9E20; /* Ochre text */
  background-color: #382A13; /* Dark Ochre background */
}
.status-pill.status-not-started {
  color: #BA3930; /* Red text */
  background-color: #2F120F; /* Dark Red background */
}
.status-pill.status-n\/a {
  color: #AAAAAA;
  background-color: #383838;
}


.analysis-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.analysis-list li {
  padding: 8px 0;
  border-bottom: 1px solid #383838; /* Darker separator */
}
.analysis-list li:last-child {
  border-bottom: 0;
}
.analysis-list li p {
  margin: 0;
  font-size: 14px;
  color: #CCCCCC;
}
.analysis-list li .source {
  font-size: 12px;
  color: #888888;
  font-style: italic;
}

.analysis-list li .source a {
  color: #2E7BB1; /* Dark Blue link */
  text-decoration: underline;
  cursor: pointer;
  font-style: italic; /* Maintain italic style */
}
.analysis-list li .source a:hover {
  color: #66A3D9; /* Lighter blue on hover */
}


/* ------------------------------------------------------------------- */
/* --- CHAT INTERFACE STYLES (Adjusted for Dark Mode) --- */
/* ------------------------------------------------------------------- */

.chat-container {
  margin-top: 24px;
  border-top: 1px solid #383838;
  padding-top: 20px;
}

.chat-title {
  font-size: 14px;
  font-weight: 600;
  color: #FFFFFF;
  margin-top: 0;
  margin-bottom: 12px;
}

.chat-history {
  height: 150px;
  max-height: 150px;
  overflow-y: auto;
  border: 1px solid #383838;
  border-radius: 6px;
  padding: 12px;
  background-color: #282828; /* Match chart background */
  margin-bottom: 12px;
}

.chat-message {
  font-size: 14px;
  line-height: 1.6;
  padding: 8px 12px;
  border-radius: 8px;
  margin-bottom: 8px;
  max-width: 85%;
}
.chat-message:last-child {
  margin-bottom: 0;
}

.chat-message-user {
  background-color: #2E7BB1; /* Dark Blue */
  color: #FFFFFF;
  margin-left: auto;
  text-align: right;
}

.chat-message-llm {
  background-color: #383838; /* Dark Grey */
  color: #FFFFFF;
  margin-right: auto;
  text-align: left;
}

.chat-spinner {
  width: 16px;
  height: 16px;
  border: 2px solid #555555;
  border-top-color: #AAAAAA;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  display: inline-block; 
}

.chat-form {
  display: flex;
  gap: 8px;
}

.chat-input {
  flex-grow: 1;
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  font-size: 14px;
  border: 1px solid #383838;
  border-radius: 6px;
  padding: 8px 12px;
  color: #FFFFFF;
  background-color: #282828;
}

.chat-send-btn {
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
  background-color: #2E7BB1; /* Dark Blue send button */
  border: none;
  border-radius: 6px;
  padding: 8px 16px;
  cursor: pointer;
  transition: background-color 0.2s;
}
.chat-send-btn:hover {
  background-color: #1F6AA1;
}

/* ------------------------------------------------------------------- */
/* --- GANTT LEGEND STYLES --- */
/* ------------------------------------------------------------------- */
.gantt-legend {
  padding: 20px 24px; /* Increased padding */
  border-top: 1px solid #0D0D0D; /* Grid line color */
  background-color: #0C2340; /* Set background to match swimlanes */
  color: #FFFFFF;
}

.legend-title {
  font-size: 40px; /* CHANGED from 32px */
  font-weight: 600;
  margin: 0 0 24px 0; /* CHANGED from 16px */
  color: #FFFFFF;
}

.legend-list {
  display: flex;
  flex-wrap: wrap;
  gap: 30px; /* CHANGED from 20px */
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 15px; /* CHANGED from 10px */
}

.legend-color-box {
  width: 28px; /* CHANGED from 18px */
  height: 28px; /* CHANGED from 18px */
  border-radius: 3px;
  border: 1px solid rgba(255, 255, 255, 0.2); /* Added subtle border */
}

/* Use data-color attributes for legend (NEW PALETTE) */
.legend-color-box[data-color="priority-red"] { background-color: #961111; }
.legend-color-box[data-color="medium-red"] { background-color: #FC6A62; }
.legend-color-box[data-color="mid-grey"] { background-color: #7D8A99; }
.legend-color-box[data-color="light-grey"] { background-color: #DADEE2; }
.legend-color-box[data-color="white"] { background-color: #FFFFFF; }
.legend-color-box[data-color="dark-blue"] { background-color: #354259; }


.legend-label {
  font-size: 28px; /* CHANGED from 14px */
  color: #CCCCCC;
}

/* ------------------------------------------------------------------- */
/* --- SVG FOOTER (Applied by chart-renderer.js) --- */
/* ------------------------------------------------------------------- */
.gantt-footer-svg {
  /* This class is just a container. 
     Styles are applied directly via JS.
  */
  width: 100%;
}